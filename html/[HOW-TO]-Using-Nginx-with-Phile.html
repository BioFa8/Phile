<h3 id="using-phile-from-root">Using Phile from root</h3>
<p>Use this if you plan to host Phile from <a href="http://yourdomain.com/">http://yourdomain.com/</a> or the root of a subdomain.</p>
<p>An example Nginx config:</p>
<pre><code>  location / {
    try_files $uri $uri/ /index.php$args;
  }
</code></pre><h3 id="using-phile-from-a-subdirectory">Using Phile from a subdirectory</h3>
<p>Use this if you plan to host Phile from <a href="http://yourdomain.com/blog">http://yourdomain.com/blog</a></p>
<p>An example Nginx config:</p>
<pre><code>  location /blog {
    try_files $uri $uri/ @blog;
  }

  location @blog {
    rewrite ^/blog/(.*)$ /blog/index.php/$1;
  }
</code></pre><h3 id="blocking-access-to-files-that-users-should-not-see">Blocking access to files that users should not see</h3>
<p>You should spend some time making sure that at least your config.php file cannot be accessed. Especially since it holds an encryption key.</p>
<p>I think the following is a fairly comprehensive list of the files that you should block</p>
<pre><code>location ~ /.git/ { access_log off; log_not_found off; deny all; }
  location ~ /(.gitignore|.gitmodules) { access_log off; log_not_found off; deny all; }
  location ~ /(build.xml|composer.json|composer.phar|generator.php|lib|phing|README.md) { access_log off; log_not_found off; deny all; }
  location ~ /(Changelog.md|composer.lock|config.php|default_config.php|LICENSE) { access_log off; log_not_found off; deny all; }
  location ~ /\.          { access_log off; log_not_found off; deny all; }
</code></pre>